{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/BlueJeans/chat-react-app/client-chat-app/src/UI/Chat/Chat.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport InfoBar from \"../InfoBar/InfoBar\";\nimport Input from \"../Input/Input\";\nimport Messages from \"../Messages/Messages\";\nimport { observer } from \"mobx-react\";\nimport { OuterContainer, Container } from \"./Chat.Styled\";\nimport io from \"socket.io-client\";\nimport ChatViewModel from \"./ChatViewModel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet chatViewModel;\nlet socket;\nconst Chat = observer(_c = _s(({\n  sessionStore,\n  messageStore\n}) => {\n  _s();\n\n  chatViewModel = new ChatViewModel(sessionStore);\n  const ENDPOINT = \"localhost:5000\";\n  useEffect(() => {\n    socket = io(ENDPOINT);\n    chatViewModel.initialConnection(socket);\n\n    if (sessionStore.error) {\n      alert(\"Somethig is wrong\");\n      chatViewModel.gotoJoinRoom();\n    }\n  }, [ENDPOINT, sessionStore.name, sessionStore.room]);\n  useEffect(() => {\n    chatViewModel.sessionMessage(socket);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(OuterContainer, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(InfoBar, {\n        room: sessionStore.room,\n        error: sessionStore.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Messages, {\n        messages: sessionStore.messages,\n        name: sessionStore.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), !sessionStore.error ? /*#__PURE__*/_jsxDEV(Input, {\n        messageStore: messageStore,\n        socket: socket\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}, \"3ubReDTFssvu4DHeldAg55cW/CI=\"));\n_c2 = Chat;\nexport default Chat;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Chat$observer\");\n$RefreshReg$(_c2, \"Chat\");","map":{"version":3,"sources":["/Users/macbook/Documents/BlueJeans/chat-react-app/client-chat-app/src/UI/Chat/Chat.tsx"],"names":["React","useEffect","InfoBar","Input","Messages","observer","OuterContainer","Container","io","ChatViewModel","chatViewModel","socket","Chat","sessionStore","messageStore","ENDPOINT","initialConnection","error","alert","gotoJoinRoom","name","room","sessionMessage","messages"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,QAAT,QAAyB,YAAzB;AAEA,SAASC,cAAT,EAAyBC,SAAzB,QAA0C,eAA1C;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,IAAIC,aAAJ;AACA,IAAIC,MAAJ;AAEA,MAAMC,IAAI,GAAGP,QAAQ,SAAC,CAAC;AAAEQ,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAD,KAAoC;AAAA;;AACxDJ,EAAAA,aAAa,GAAG,IAAID,aAAJ,CAAkBI,YAAlB,CAAhB;AACA,QAAME,QAAQ,GAAG,gBAAjB;AAEAd,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,MAAM,GAAGH,EAAE,CAACO,QAAD,CAAX;AACAL,IAAAA,aAAa,CAACM,iBAAd,CAAgCL,MAAhC;;AACA,QAAIE,YAAY,CAACI,KAAjB,EAAwB;AACtBC,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACAR,MAAAA,aAAa,CAACS,YAAd;AACD;AACF,GAPQ,EAON,CAACJ,QAAD,EAAWF,YAAY,CAACO,IAAxB,EAA8BP,YAAY,CAACQ,IAA3C,CAPM,CAAT;AASApB,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,aAAa,CAACY,cAAd,CAA6BX,MAA7B;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE,QAAC,cAAD;AAAA,2BACE,QAAC,SAAD;AAAA,8BACE,QAAC,OAAD;AAAS,QAAA,IAAI,EAAEE,YAAY,CAACQ,IAA5B;AAAkC,QAAA,KAAK,EAAER,YAAY,CAACI;AAAtD;AAAA;AAAA;AAAA;AAAA,cADF,eAGE,QAAC,QAAD;AAAU,QAAA,QAAQ,EAAEJ,YAAY,CAACU,QAAjC;AAA2C,QAAA,IAAI,EAAEV,YAAY,CAACO;AAA9D;AAAA;AAAA;AAAA;AAAA,cAHF,EAIG,CAACP,YAAY,CAACI,KAAd,gBACC,QAAC,KAAD;AAAO,QAAA,YAAY,EAAEH,YAArB;AAAmC,QAAA,MAAM,EAAEH;AAA3C;AAAA;AAAA;AAAA;AAAA,cADD,GAEG,IANN;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CA7BoB,kCAArB;MAAMC,I;AA+BN,eAAeA,IAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport InfoBar from \"../InfoBar/InfoBar\";\nimport Input from \"../Input/Input\";\nimport Messages from \"../Messages/Messages\";\nimport { observer } from \"mobx-react\";\nimport { Redirect } from \"react-router\";\nimport { OuterContainer, Container } from \"./Chat.Styled\";\nimport io from \"socket.io-client\";\nimport ChatViewModel from \"./ChatViewModel\";\n\nlet chatViewModel: ChatViewModel;\nlet socket;\n\nconst Chat = observer(({ sessionStore, messageStore }) => {\n  chatViewModel = new ChatViewModel(sessionStore);\n  const ENDPOINT = \"localhost:5000\";\n\n  useEffect(() => {\n    socket = io(ENDPOINT);\n    chatViewModel.initialConnection(socket);\n    if (sessionStore.error) {\n      alert(\"Somethig is wrong\");\n      chatViewModel.gotoJoinRoom();\n    }\n  }, [ENDPOINT, sessionStore.name, sessionStore.room]);\n\n  useEffect(() => {\n    chatViewModel.sessionMessage(socket);\n  }, []);\n\n  return (\n    <OuterContainer>\n      <Container>\n        <InfoBar room={sessionStore.room} error={sessionStore.error} />\n\n        <Messages messages={sessionStore.messages} name={sessionStore.name} />\n        {!sessionStore.error ? (\n          <Input messageStore={messageStore} socket={socket} />\n        ) : null}\n      </Container>\n    </OuterContainer>\n  );\n});\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}