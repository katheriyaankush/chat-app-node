{"ast":null,"code":"import _initializerDefineProperty from\"/Users/macbook/Documents/BlueJeans/chat-react-app/client-chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";import _classCallCheck from\"/Users/macbook/Documents/BlueJeans/chat-react-app/client-chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/macbook/Documents/BlueJeans/chat-react-app/client-chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _applyDecoratedDescriptor from\"/Users/macbook/Documents/BlueJeans/chat-react-app/client-chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";import _initializerWarningHelper from\"/Users/macbook/Documents/BlueJeans/chat-react-app/client-chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";var _class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7;import{observable,makeObservable,action}from\"mobx\";var SessionStore=(_class=/*#__PURE__*/function(){function SessionStore(){_classCallCheck(this,SessionStore);_initializerDefineProperty(this,\"name\",_descriptor,this);_initializerDefineProperty(this,\"room\",_descriptor2,this);_initializerDefineProperty(this,\"users\",_descriptor3,this);_initializerDefineProperty(this,\"error\",_descriptor4,this);_initializerDefineProperty(this,\"messages\",_descriptor5,this);_initializerDefineProperty(this,\"message\",_descriptor6,this);_initializerDefineProperty(this,\"isJoin\",_descriptor7,this);makeObservable(this);}_createClass(SessionStore,[{key:\"updateName\",value:function updateName(val){return this.name=val;}},{key:\"updateRoom\",value:function updateRoom(val){return this.room=val;}},{key:\"updateUsers\",value:function updateUsers(val){return this.users=val;}},{key:\"initialConnection\",value:function initialConnection(socket){var _this=this;var room=this.room;var name=this.name;socket.emit(\"join\",{name:name,room:room},function(error){if(error){return _this.error=true;}});}},{key:\"sessionMessage\",value:function sessionMessage(socket){var _this2=this;var messageA=[];socket.on(\"message\",function(message){messageA.push(message);_this2.messages=messageA;});socket.on(\"roomData\",function(_ref){var users=_ref.users;_this2.users=users;});return this.messages;}},{key:\"setMessage\",value:function setMessage(val){return this.message=val;}},{key:\"isJoined\",value:function isJoined(val){return this.isJoin=val;}}]);return SessionStore;}(),(_descriptor=_applyDecoratedDescriptor(_class.prototype,\"name\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return\"\";}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,\"room\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return\"\";}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,\"users\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return\"\";}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,\"error\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return false;}}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,\"messages\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return\"\";}}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,\"message\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return\"\";}}),_descriptor7=_applyDecoratedDescriptor(_class.prototype,\"isJoin\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return false;}}),_applyDecoratedDescriptor(_class.prototype,\"updateName\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"updateName\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"updateRoom\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"updateRoom\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"updateUsers\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"updateUsers\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"initialConnection\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"initialConnection\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"sessionMessage\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"sessionMessage\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"setMessage\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"setMessage\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"isJoined\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"isJoined\"),_class.prototype)),_class);export{SessionStore as default};","map":{"version":3,"sources":["/Users/macbook/Documents/BlueJeans/chat-react-app/client-chat-app/src/BusinessLogic/SessionStore.ts"],"names":["observable","makeObservable","action","SessionStore","val","name","room","users","socket","emit","error","messageA","on","message","push","messages","isJoin"],"mappings":"+jCAAA,OAASA,UAAT,CAAqBC,cAArB,CAAqCC,MAArC,KAAmD,MAAnD,C,GAEqBC,CAAAA,Y,iCASnB,uBAAc,ocACZF,cAAc,CAAC,IAAD,CAAd,CACD,C,mDAED,oBAAmBG,GAAnB,CAAwB,CACtB,MAAQ,MAAKC,IAAL,CAAYD,GAApB,CACD,C,0BACD,oBAAmBA,GAAnB,CAAwB,CACtB,MAAQ,MAAKE,IAAL,CAAYF,GAApB,CACD,C,2BACD,qBAAoBA,GAApB,CAAyB,CACvB,MAAQ,MAAKG,KAAL,CAAaH,GAArB,CACD,C,iCAED,2BAA0BI,MAA1B,CAAkC,gBAChC,GAAMF,CAAAA,IAAI,CAAG,KAAKA,IAAlB,CACA,GAAMD,CAAAA,IAAI,CAAG,KAAKA,IAAlB,CACAG,MAAM,CAACC,IAAP,CAAY,MAAZ,CAAoB,CAAEJ,IAAI,CAAJA,IAAF,CAAQC,IAAI,CAAJA,IAAR,CAApB,CAAoC,SAACI,KAAD,CAAW,CAC7C,GAAIA,KAAJ,CAAW,CACT,MAAQ,CAAA,KAAI,CAACA,KAAL,CAAa,IAArB,CACD,CACF,CAJD,EAKD,C,8BAED,wBAAuBF,MAAvB,CAA+B,iBAC7B,GAAMG,CAAAA,QAAa,CAAG,EAAtB,CACAH,MAAM,CAACI,EAAP,CAAU,SAAV,CAAqB,SAACC,OAAD,CAAkB,CACrCF,QAAQ,CAACG,IAAT,CAAcD,OAAd,EACA,MAAI,CAACE,QAAL,CAAgBJ,QAAhB,CACD,CAHD,EAKAH,MAAM,CAACI,EAAP,CAAU,UAAV,CAAsB,cAAe,IAAZL,CAAAA,KAAY,MAAZA,KAAY,CACnC,MAAI,CAACA,KAAL,CAAaA,KAAb,CACD,CAFD,EAGA,MAAO,MAAKQ,QAAZ,CACD,C,0BAED,oBAAmBX,GAAnB,CAAwB,CACtB,MAAQ,MAAKS,OAAL,CAAeT,GAAvB,CACD,C,wBAED,kBAAiBA,GAAjB,CAAsB,CACpB,MAAQ,MAAKY,MAAL,CAAcZ,GAAtB,CACD,C,4FAnDAJ,U,4FAAkB,E,qEAClBA,U,4FAAkB,E,sEAClBA,U,4FAAmB,E,sEACnBA,U,4FAAmB,M,yEACnBA,U,4FAAsB,E,wEACtBA,U,4FAAqB,E,uEACrBA,U,4FAAoB,M,8DAMpBE,M,4IAGAA,M,6IAGAA,M,oJAIAA,M,uJAUAA,M,gJAaAA,M,0IAIAA,M,iGAlDkBC,Y","sourcesContent":["import { observable, makeObservable, action } from \"mobx\";\n\nexport default class SessionStore {\n  @observable name = \"\";\n  @observable room = \"\";\n  @observable users = \"\";\n  @observable error = false;\n  @observable messages = \"\";\n  @observable message = \"\";\n  @observable isJoin = false;\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  @action updateName(val) {\n    return (this.name = val);\n  }\n  @action updateRoom(val) {\n    return (this.room = val);\n  }\n  @action updateUsers(val) {\n    return (this.users = val);\n  }\n\n  @action initialConnection(socket) {\n    const room = this.room;\n    const name = this.name;\n    socket.emit(\"join\", { name, room }, (error) => {\n      if (error) {\n        return (this.error = true);\n      }\n    });\n  }\n\n  @action sessionMessage(socket) {\n    const messageA: any = [];\n    socket.on(\"message\", (message: any) => {\n      messageA.push(message);\n      this.messages = messageA;\n    });\n\n    socket.on(\"roomData\", ({ users }) => {\n      this.users = users;\n    });\n    return this.messages;\n  }\n\n  @action setMessage(val) {\n    return (this.message = val);\n  }\n\n  @action isJoined(val) {\n    return (this.isJoin = val);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}